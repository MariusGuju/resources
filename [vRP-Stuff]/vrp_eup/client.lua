local outfits = {
    --[[['Comisar Rutiera Jacket'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,2,1},
            {1,4,1},
            {2,0,0},
            {3,4,1},
        },
        components = {
            {1,1,1},
            {3,2,1},
            {4,97,1},
            {5,1,1},
            {6,16,1},
            {7,0,0},
            {8,0,1},
            {9,0,6},
            {10,1,1},
            {11,124,1},
        }
    },]]
    ['Inspector Manenca Lunga'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,2,1},
            {1,6,1},
            {2,0,0},
            {3,0,0},
        },
        components = {
            {1,1,1},
            {3,5,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,123,1},
            {9,15,1},
            {10,1,1},
            {11,194,3},
        }
    },
    ['Inspector'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,2,1},
            {1,0,0},
            {2,0,0},
            {3,4,1},
        },
        components = {
            {1,1,1},
            {3,1,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,123,1},
            {9,14,1},
            {10,1,1},
            {11,191,3},
        }
    },
    ['Agent-Sef'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,11,1},
            {1,0,0},
            {2,0,0},
            {3,4,1},
        },
        components = {
            {1,1,1},
            {3,1,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,59,1},
            {9,14,1},
            {10,1,1},
            {11,191,2},
        }
    },
    ['Comisar'] = {
    category = 'Politia Romana',
    ped = 'mp_m_freemode_01',
    props = {
        {0,11,1},
        {1,0,0},
        {2,0,0},
        {3,4,1},
    },
    components = {
        {1,1,1},
        {3,1,1},
        {4,97,1},
        {5,1,1},
        {6,55,1},
        {7,0,0},
        {8,123,1},
        {9,31,1},
        {10,1,1},
        {11,191,2},
    }
},
['Penintenciar 3'] = {
    category = 'Politia Romana',
    ped = 'mp_m_freemode_01',
    props = {
        {0,11,1},
        {1,0,0},
        {2,0,0},
        {3,0,0},
    },
    components = {
        {1,1,1},
        {3,5,1},
        {4,97,1},
        {5,1,1},
        {6,55,1},
        {7,0,0},
        {8,59,1},
        {9,14,1},
        {10,1,1},
        {11,194,2},
    }
},
['Agent-Sef Rutiera'] = {
    category = 'Politia Romana',
    ped = 'mp_m_freemode_01',
    props = {
        {0,11,1},
        {1,0,0},
        {2,0,0},
        {3,1,1},
    },
    components = {
        {1,1,1},
        {3,31,1},
        {4,97,1},
        {5,1,1},
        {6,55,1},
        {7,0,0},
        {8,123,1},
        {9,26,2},
        {10,1,1},
        {11,191,2},
    }
},
['Agent Maneca Lunga'] = {
    category = 'Politia Romana',
    ped = 'mp_m_freemode_01',
    props = {
        {0,11,3},
        {1,0,0},
        {2,0,0},
        {3,0,0},
    },
    components = {
        {1,1,1},
        {3,5,1},
        {4,97,1},
        {5,1,1},
        {6,55,1},
        {7,0,0},
        {8,59,1},
        {9,15,1},
        {10,1,1},
        {11,194,1},
    }
},
    ['Penintenciar 2'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,11,3},
            {1,0,0},
            {2,0,0},
            {3,4,1},
        },
        components = {
            {1,1,1},
            {3,1,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,59,1},
            {9,14,1},
            {10,1,1},
            {11,191,4},
        }
    },
    --[[['Agent Motociclist'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,49,1},
            {1,4,1},
            {2,0,0},
            {3,4,1},
        },
        components = {
            {1,1,1},
            {3,2,1},
            {4,53,2},
            {5,1,1},
            {6,25,1},
            {7,0,0},
            {8,143,1},
            {9,0,6},
            {10,1,1},
            {11,124,1},
        }
    },]]
    ['Agent'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,11,1},
            {1,0,0},
            {2,0,0},
            {3,4,1},
        },
        components = {
            {1,1,1},
            {3,1,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,123,1},
            {9,14,1},
            {10,1,1},
            {11,191,5},
        }
    },
    ['Agent-Sef Maneca Lunga'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,11,2},
            {1,0,0},
            {2,0,0},
            {3,0,0},
        },
        components = {
            {1,1,1},
            {3,5,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,123,1},
            {9,15,1},
            {10,1,1},
            {11,194,4},
        }
    },
    ['Inspector Principal'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,11,1},
            {1,4,1},
            {2,0,0},
            {3,0,0},
        },
        components = {
            {1,1,1},
            {3,5,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,123,1},
            {9,31,1},
            {10,1,1},
            {11,194,4},
        }
    },
    ['Penintenciar'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,11,1},
            {1,0,0},
            {2,0,0},
            {3,1,1},
        },
        components = {
            {1,1,1},
            {3,31,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,123,1},
            {9,26,1},
            {10,1,1},
            {11,191,2},
        }
    },
    ['Agent Rutiera'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,11,3},
            {1,0,0},
            {2,0,0},
            {3,0,0},
        },
        components = {
            {1,1,1},
            {3,39,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,123,1},
            {9,26,2},
            {10,1,1},
            {11,194,2},
        }
    },
    ['Inspector Principal Geaca'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,11,1},
            {1,0,0},
            {2,0,0},
            {3,0,0},
        },
        components = {
            {1,1,1},
            {3,18,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,66,1},
            {9,123,3},
            {10,1,1},
            {11,152,1},
        }
    },
    --[[['Agent Rutiera'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,11,2},
            {1,4,1},
            {2,0,0},
            {3,4,1},
        },
        components = {
            {1,1,1},
            {3,2,1},
            {4,97,1},
            {5,1,1},
            {6,16,1},
            {7,0,0},
            {8,143,1},
            {9,0,6},
            {10,1,1},
            {11,124,1},
        }
    },]]
    ['Comisar Rutiera'] = {
        category = 'Politia Romana',
        ped = 'mp_m_freemode_01',
        props = {
            {0,11,2},
            {1,0,0},
            {2,0,0},
            {3,0,0},
        },
        components = {
            {1,1,1},
            {3,18,1},
            {4,97,1},
            {5,1,1},
            {6,55,1},
            {7,0,0},
            {8,66,1},
            {9,0,3},
            {10,1,1},
            {11,152,2},
        }
    }, -- BCCO DE AICI 
  --[[  ['Comisar Undercover 1(PROPABIL O SA'] = {
        category = 'Divizia Anti Drog-Undercover',
        ped = 'mp_m_freemode_01',
        props = {
            {0,0,0},
            {1,0,0},
            {2,0,0},
            {3,0,0},
        },
        components = {
            {1,1,1},
            {3,5,5},
            {4,38,1},
            {5,1,1},
            {6,11,1},
            {7,11,5},
            {8,25,1},
            {9,0,6},
            {10,25,1},
            {11,14,2},
        }
    },]]
    ['Agent Vest'] = {
        category = 'Divizia Anti Drog-Undercover',
        ped = 'mp_m_freemode_01',
        props = {
            {0,0,0},
            {1,7,3},
            {2,0,0},
            {3,0,0},
        },
        components = {
            {1,1,1},
            {3,42,1},
            {4,5,5},
            {5,1,1},
            {6,13,7},
            {7,0,0},
            {8,123,1},
            {9,13,1},
            {10,1,1},
            {11,35,1},
        }
    },
        ['Procuror DIICOT'] = {
            category = 'Divizia Anti Drog-Undercover',
            ped = 'mp_m_freemode_01',
            props = {
                {0,0,0},
                {1,0,0},
                {2,0,0},
            },
            {3,0,0},
            components = {
                {1,1,1},
                {3,5,1},
                {4,11,1},
                {5,1,1},
                {6,11,1},
                {7,0,0},
                {8,61,1},
                {9,22,1},
                {10,1,1},
                {11,5,1},
            }
        },
        ['Inspector Principal Rutiera'] = {
            category = 'Politia Romana',
            ped = 'mp_m_freemode_01',
            props = {
                {0,11,2},
                {1,0,0},
                {2,0,0},
                {3,0,0},
            },
            components = {
                {1,1,1},
                {3,13,1},
                {4,11,1},
                {5,1,2},
                {6,11,1},
                {7,0,0},
                {8,12,1},
                {9,15,1},
                {10,1,1},
                {11,36,1},
            }
        },
        ['Investigator Criminalist BCCO'] = {
            category = 'Divizia Anti Drog-Undercover',
            ped = 'mp_m_freemode_01',
            props = {
                {0,0,0},
                {1,0,0},
                {2,0,0},
                {3,2,1},
            },
            components = {
                {1,122,1},
                {3,31,1},
                {4,48,2},
                {5,131,1},
                {6,26,1},
                {7,123,0},
                {8,0,1},
                {9,8,1},
                {10,1,1},
                {11,274,2},
            }
        },--Serviciul de Actiuni Speciale
        ['Agent Interventii Speciale'] = {
            category = 'Serviciul de Actiuni Speciale',
            ped = 'mp_m_freemode_01',
            props = {
                {0,118,1},
                {1,0,1},
                {2,0,0},
                {3,0,1},
            },
            components = {
                {1,53,1},
                {3,18,1},
                {4,32,2},
                {5,1,1},
                {6,26,1},
                {7,0,0},
                {8,16,1},
                {9,17,3},
                {10,1,1},
                {11,54,1},
            }
        },
        ['Agent Sef Interventii'] = {
            category = 'Serviciul de Actiuni Speciale',
            ped = 'mp_m_freemode_01',
            props = {
                {0,11,1},
                {1,17,1},
                {2,0,0},
                {3,0,0},
            },
            components = {
                {1,1,1},
                {3,1,1},
                {4,60,1},
                {5,67,1},
                {6,26,1},
                {7,0,0},
                {8,54,1},
                {9,31,1},
                {10,1,1},
                {11,0,1},
            }
        },
        ['Agent Interventii Blue'] = {
            category = 'Serviciul de Actiuni Speciale',
            ped = 'mp_m_freemode_01',
            props = {
                {0,11,2},
                {1,4,1},
                {2,0,0},
                {3,4,1},
            },
            components = {
                {1,1,1},
                {3,42,1},
                {4,53,2},
                {5,1,1},
                {6,26,1},
                {7,0,0},
                {8,0,1},
                {9,31,1},
                {10,1,1},
                {11,95,2},
            }
        },   
        ['Uniforma Pompier'] = {
            category = 'Pompierii',
            ped = 'mp_m_freemode_01',
            props = {
                { 0, 0, 0 },
                { 1, 0, 0 },
                { 2, 0, 0 },
                { 6, 0, 0 },
            },
            components = {
                { 1, 1, 1 },
                { 11, 119, 2 },
                { 3, 5, 1 },
                { 10, 1, 1 },
                { 8, 0, 1 },
                { 4, 25, 3 },
                { 6, 52, 1 },
                { 7, 1, 1 },
                { 9, 1, 1 },
                { 5, 38, 5 },
            }
        },
        ['Paramedic'] = {
            category = 'Pompierii',
            ped = 'mp_m_freemode_01',
            props = {
                { 0, 0, 0 },
                { 1, 0, 0 },
                { 2, 0, 0 },
                { 6, 0, 0 },
            },
            components = {
                { 1, 1, 1 },
                { 11, 75, 1 },
                { 3, 86, 1 },
                { 10, 1, 1 },
                { 8, 0, 1 },
                { 4, 25, 3 },
                { 6, 52, 1 },
                { 7, 127, 1 },
                { 9, 0, 1 },
                { 5, 0, 1 },
            }
        },
        ['Pompier Pantaloni Galbeni'] = {
            category = 'Pompierii',
            ped = 'mp_m_freemode_01',
            props = {
                { 0, 46, 1 },
                { 1, 1, 1 },
                { 2, 0, 1 },
                { 6, 0, 1 },
            },
            components = {
                { 1, 1, 1 },
                { 11, 74, 15 },
                { 3, 1, 1 },
                { 10, 1, 1 },
                { 8, 16, 1 },
                { 4, 20, 2 },
                { 6, 52, 1 },
                { 7, 0, 1 },
                { 9, 1, 1 },
          
                { 5, 1, 1 },
            }
        },
        ['Paramedic Iarna'] = {
            category = 'Pompierii',
            ped = 'mp_m_freemode_01',
            props = {
                { 0, 3, 2 },
                { 1, 0, 0 },
                { 2, 0, 0 },
                { 6, 0, 0 },
            },
            components = {
                { 1, 1, 1 },
                { 11, 250, 2 },
                { 3, 32, 1 },
                { 10, 58, 1 },
                { 8, 16, 1 },
                { 4, 26, 3 },
                { 6, 52, 1 },
                { 7, 127, 1 },
                { 9, 1, 1 },
                { 5, 0, 1 },
            }
        },     
        ['Pompier Jacketa'] = {
            category = 'Pompierii',
            ped = 'mp_m_freemode_01',
            props = {
                { 0, 0, 0 },
                { 1, 0, 0 },
                { 2, 0, 0 },
                { 6, 0, 0 },
            },
            components = {
                { 1, 1, 1 },
                { 11, 152, 3 },
                { 3, 5, 1 },
                { 10, 1, 1 },
                { 8, 66, 7 },
                { 4, 26, 3 },
                { 6, 52, 1 },
                { 7, 1, 1 },
                { 9, 0, 1 },
                { 5, 0, 1 },
            }
        },
        ['Agent Interventii Blue'] = {
            category = 'Divizia Anti Drog-Undercover',
            ped = 'mp_m_freemode_01',
            props = {
                {0,11,2},
                {1,4,1},
                {2,0,0},
                {3,4,1},
            },
            components = {
                {1,1,1},
                {3,42,1},
                {4,53,2},
                {5,1,1},
                {6,26,1},
                {7,0,0},
                {8,0,1},
                {9,31,1},
                {10,1,1},
                {11,95,2},
            }
        },   
        ['Paramedic Iarna'] = {
            category = 'Pompierii',
            ped = 'mp_m_freemode_01',
            props = {
                { 0, 3, 2 },
                { 1, 0, 0 },
                { 2, 0, 0 },
                { 6, 0, 0 },
            },
            components = {
                { 1, 1, 1 },
                { 11, 250, 2 },
                { 3, 32, 1 },
                { 10, 58, 1 },
                { 8, 16, 1 },
                { 4, 26, 3 },
                { 6, 52, 1 },
                { 7, 127, 1 },
                { 9, 1, 1 },
                { 5, 0, 1 },
            }
        },     
}

local function setOutfit(outfit)
    local ped = PlayerPedId()

    RequestModel(outfit.ped)

    while not HasModelLoaded(outfit.ped) do
        Wait(0)
    end

    if GetEntityModel(ped) ~= GetHashKey(outfit.ped) then
        SetPlayerModel(PlayerId(), outfit.ped)
    end

    ped = PlayerPedId()

    for _, comp in ipairs(outfit.components) do
       SetPedComponentVariation(ped, comp[1], comp[2] - 1, comp[3] - 1, 0)
    end

    for _, comp in ipairs(outfit.props) do
        if comp[2] == 0 then
            ClearPedProp(ped, comp[1])
        else
            SetPedPropIndex(ped, comp[1], comp[2] - 1, comp[3] - 1, true)
        end
    end
end

local categoryOutfits = {}

for name, outfit in pairs(outfits) do
    if not categoryOutfits[outfit.category] then
        categoryOutfits[outfit.category] = {}
    end

    categoryOutfits[outfit.category][name] = outfit
end

local menuPool = NativeUI.CreatePool()
local mainMenu = NativeUI.CreateMenu('Politia Romana', 'Alege Outfit-ul corespunzator gradului tau!')

for name, list in pairs(categoryOutfits) do
			local subMenu = menuPool:AddSubMenu(mainMenu, name)
			for id, outfit in pairs(list) do
				outfit.item = NativeUI.CreateItem(id, 'Ia acest outfit.')
				subMenu:AddItem(outfit.item)
			end

			subMenu.OnItemSelect = function(sender, item, index)
				for _, outfit in pairs(list) do
					if outfit.item == item then
						CreateThread(function()
							setOutfit(outfit)
						end)
					end
				end
			end
end

menuPool:Add(mainMenu)

menuPool:RefreshIndex()

RegisterCommand('eup', function()
	vrpEUP.TriggerServerCallback('verifica', function(permisiune)
		if permisiune then
			mainMenu:Visible(not mainMenu:Visible())
		end
	end)
end, false)

CreateThread(function()
    while true do
        Wait(0)

        menuPool:ProcessMenus()
    end
end)